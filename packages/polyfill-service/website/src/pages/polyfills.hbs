{{#> layouts/base}}
  {{#*inline "sidebar"}}
    <div>
			<div class="o-forms">
				<label aria-describedby="filter-info" class="o-forms__label" for="filter">Filter polyfills</label>
				<div id="filter-info" class="o-forms__additional-info">Filter the polyfills in the "Avaliable Polyfills" list.</div>
				<input name="filter" id="filter" type="text" class="o-forms__text" placeholder="Type to filter by name">
			</div>
			<div class="o-forms">
				<label aria-describedby="callback-info" for="callback" class="o-forms__label">Callback</label>
				<div id="callback-info" class="o-forms__additional-info">Name of the function to call after the polyfills are loaded.</div>
				<input type="text" id="callback" class="o-forms__text" name="callback">
			</div>
			<fieldset class="o-forms">
				<legend aria-describedby="bundle-info" class="o-forms__label">Minify bundle</legend>
				<div id="bundle-info" class="o-forms__additional-info">Check the boxes of the polyfills you want to have in your bundle.</div>
				<div class="o-forms__group o-forms__group--inline-together">
					<input type="radio" name="minified" class="o-forms__radio-button" id="minified1" checked>
					<label for="minified1" aria-label="Minify bundle" class="o-forms__label">Yes</label>
					<input type="radio" name="minified" class="o-forms__radio-button o-forms__radio-button--negative" id="minified2">
					<label for="minified2" aria-label="Do not minify bundle" class="o-forms__label">No</label>
				</div>
			</fieldset>
			<fieldset class="o-forms">
				<legend aria-describedby="rum-info" class="o-forms__label">Real User Monitoring</legend>
				<div id="rum-info" class="o-forms__additional-info">Help us tune our browser targeting to better serve your particular users.</div>
				<div class="o-forms__group o-forms__group--inline-together">
					<input type="radio" name="rum" class="o-forms__radio-button" id="rum1">
					<label for="rum1" aria-label="Send real user metrics." class="o-forms__label">Yes</label>
					<input type="radio" name="rum" class="o-forms__radio-button o-forms__radio-button--negative" id="rum2" checked>
					<label for="rum2" aria-label="Do not send real user metrics." class="o-forms__label">No</label>
				</div>
			</fieldset>
			<fieldset class="o-forms">
				<legend aria-describedby="feature-info" class="o-forms__label">Feature Detects</legend>
				<div id="feature-info" class="o-forms__additional-info">Have every polyfill wrapped in a feature detect, which will only execute the polyfill if the native API is not present.</div>
				<div class="o-forms__group o-forms__group--inline-together">
					<input type="radio" name="gated" class="o-forms__radio-button" id="gated1">
					<label for="gated1" aria-label="Enable feature detects." class="o-forms__label">Yes</label>
					<input type="radio" name="gated" class="o-forms__radio-button o-forms__radio-button--negative" id="gated2" checked>
					<label for="gated2" aria-label="Disable feature detects." class="o-forms__label">No</label>
				</div>
			</fieldset>
			<fieldset class="o-forms">
				<legend aria-describedby="always-info" class="o-forms__label">Always load polyfills</legend>
				<div id="always-info" class="o-forms__additional-info">Have every polyfill be included regardless of whether it is required by the browser making the request.</div>
				<div class="o-forms__group o-forms__group--inline-together">
					<input type="radio" name="always" class="o-forms__radio-button" id="always1">
					<label for="always1" aria-label="Include every polyfill, regardless of the browser" class="o-forms__label">Yes</label>
					<input type="radio" name="always" class="o-forms__radio-button o-forms__radio-button--negative" id="always2" checked>
					<label for="always2" aria-label="Include only polyfills the requesting browser needs" class="o-forms__label">No</label>
				</div>
			</fieldset>
		</div>
  {{/inline}}
  {{#*inline "main"}}
    <div>
			<h6 class="bundle-heading">Your polyfill bundle:</h6>
			<div class="bundle-tabs">
				<ul data-o-component="o-tabs" class="o-tabs o-tabs--buttontabs" role="tablist">
					<li role="tab">
						<a href="#tabContent0">url</a>
					</li>
					<li role="tab">
						<a href="#tabContent1">html</a>
					</li>
				</ul>
				<div id="tabContent0" class="o-tabs__tabpanel">
					<div>
						<button id="copy-url" class="o-buttons o-buttons--mono bundle-copy-button">Copy URL to clipboard</button>
						<pre class="bundle-box"><code class="o-syntax-highlight--html bundle-box-code" id="polyfill-bundle-url">https://polyfill.io/v3/polyfill.min.js</code></pre>
					</div>
				</div>
				<div id="tabContent1" class="o-tabs__tabpanel">
					<div>
						<button id="copy-html" class="o-buttons o-buttons--mono bundle-copy-button">Copy HTML to clipboard</button>
						<pre class="bundle-box"><code class="o-syntax-highlight--html bundle-box-code" id="polyfill-bundle-html">&lt;script crossorigin="anonymous" href="https://polyfill.io/v3/polyfill.min.js"&gt;&lt;/script&gt;</code></pre>
					</div>
				</div>
			</div>
		</div>
		<fieldset class="o-forms o-forms--wide">
			<legend aria-describedby="avaliable-polyfills-info" class="o-forms__label">Avaliable Polyfills</legend>
			<div id="avaliable-polyfills-info" class="o-forms__additional-info">Check the boxes of the polyfills or polyfill-sets you want to have in your bundle.</div>
			<div class="o-forms__group o-forms__group--inline" id="features-list">
			{{#each polyfills}}
				<div data-feature-name="{{name}}">
					<input id="{{name}}" name="{{name}}" type="checkbox" class="o-forms__checkbox">
					<label class="o-forms__label" id="{{snakecase name}}_label" for="{{name}}">{{name}}</label>
					<button title="Links" class="extra-info" id="{{name}}-tooltip-target" aria-label="More about {{name}} (opens tooltip).">â˜°</button>

					<div id="{{name}}-tooltip-element" data-o-component="o-tooltip" data-o-tooltip-position="right" data-o-tooltip-target="{{name}}-tooltip-target" data-o-tooltip-toggle-on-click="true">
						<div class="o-tooltip-content">
							<ul>
								{{#if license}}
									<li class='license'><a title='This polyfill has a specific licence' href='https://choosealicense.com/licenses/{{lowercase license}}'>License: {{license}}</a></li>
								{{else}}
									<li class='license'><a title='This polyfill has a specific licence' href='https://choosealicense.com/licenses/mit'>License: MIT</a></li>
								{{/if}}
								{{#if hasTests}}<li><a href='/test/tests?feature={{name}}'>Run tests</a></li>{{/if}}
								{{#if spec}}<li><a href='{{spec}}'>Specification</a></li>{{/if}}
								{{#if docs}}<li><a href='{{docs}}'>Documentation</a></li>{{/if}}
								<li><a href='https://github.com/Financial-Times/polyfill-service-serverless/tree/master/packages/polyfill-library/polyfills{{baseDir}}'>Polyfill source</a></li>
							</ul>
						</div>
					</div>
					<br>
				</div>
			{{/each}}
			</div>
		</fieldset>
  {{/inline}}
	{{#*inline "scripts-block"}}
	<script defer async src="static/polyfills.js"></script>
	{{/inline}}
{{/layouts/base}}
